"use strict";(self.webpackChunkrick_and_morty=self.webpackChunkrick_and_morty||[]).push([[519],{519:(P,d,e)=>{e.r(d),e.d(d,{LocationsModule:()=>F});var c=e(6895),u=e(8869),t=e(4650),m=e(1394),p=e(7392),f=e(4850),l=e(3546),g=e(7676),h=e(4144),Z=e(4859),L=e(1576),_=e(1727);const T=["searchLocation"];function v(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1," with "),t.TgZ(2,"b"),t._uU(3),t.qZA()()),2&i){t.oxw(2);const o=t.MAs(11);t.xp6(3),t.hij('"',o.value,'"')}}function y(i,s){if(1&i&&(t.TgZ(0,"mat-card-title"),t._uU(1,"Showing from: "),t.TgZ(2,"b"),t._uU(3),t.qZA(),t._uU(4," from a total of "),t.TgZ(5,"b"),t._uU(6),t.qZA(),t._uU(7," locations "),t.YNc(8,v,4,1,"span",4),t.qZA()),2&i){const o=t.oxw(),n=t.MAs(11);t.xp6(3),t.AsE("",o.from+1," to ",o.from+o.locations.length,""),t.xp6(3),t.Oqu(null==o.locationsInfo?null:o.locationsInfo.count),t.xp6(2),t.Q6J("ngIf",n.value.length>0)}}function U(i,s){if(1&i&&(t.TgZ(0,"mat-card-title"),t._uU(1,"No episodes found with name "),t.TgZ(2,"b"),t._uU(3),t.qZA()()),2&i){t.oxw();const o=t.MAs(11);t.xp6(3),t.hij('"',o.value,'"')}}function C(i,s){1&i&&(t.TgZ(0,"mat-card",12)(1,"div",13),t._uU(2," Loading, please wait... "),t.TgZ(3,"mat-icon"),t._uU(4,"watch_later"),t.qZA()()())}function A(i,s){if(1&i&&(t.TgZ(0,"mat-card",16),t._UZ(1,"app-locations-card",17),t.qZA()),2&i){const o=s.$implicit;t.xp6(1),t.Q6J("Location",o)}}function x(i,s){if(1&i&&(t.TgZ(0,"div",14),t.YNc(1,A,2,1,"mat-card",15),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.locations)}}let I=(()=>{class i{constructor(o){this.ls=o,this.locations=[],this.locationsTemp=[],this.from=0,this.currentPage=1,this.loadingLocations=!0}ngOnInit(){this.loadLocations(0)}loadLocations(o){const n=this.searchtxt?.nativeElement.value||"";0==this.from?n.length<1?(this.loadingLocations=!0,this.ls.getAllLocations().subscribe({next:a=>{a.results&&(this.locations=a.results,this.locationsTemp=a.results,this.locationsInfo=a.info,this.loadingLocations=!1)},error:a=>{}})):(this.loadingLocations=!0,this.ls.getLocationsByName(n).subscribe({next:a=>{if(a.results)return this.locations=a.results,this.locationsTemp=a.results,this.locationsInfo=a.info,void(this.loadingLocations=!1)},error:a=>{this.locations=[],this.locationsTemp=[],this.loadingLocations=!1}})):o>0&&this.locationsInfo.next?this.loadPaginatedLocations(this.locationsInfo.next):o<0&&this.locationsInfo.prev&&this.loadPaginatedLocations(this.locationsInfo.prev)}loadPaginatedLocations(o){this.loadingLocations=!0,this.ls.getPaginatedLocations(o).subscribe(n=>{this.locations=n.results,this.locationsTemp=n.results,this.locationsInfo=n.info,this.loadingLocations=!1})}changePage(o){this.from+=o,this.from<0?this.from=0:this.from>=this.locationsInfo?.count&&(this.from-=o),this.loadLocations(o)}search(){0===this.searchtxt?.nativeElement.value.length&&(this.locations=this.locationsTemp),this.from=0,this.loadLocations(0)}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(m._))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-display-locations"]],viewQuery:function(o,n){if(1&o&&t.Gf(T,5),2&o){let a;t.iGM(a=t.CRH())&&(n.searchtxt=a.first)}},decls:41,vars:8,consts:[[1,"mt10"],["appearance","fill",1,"w100"],["matInput","","type","text",3,"keyup"],["searchLocation",""],[4,"ngIf"],[1,""],["fxLayout","row",1,"mt10","mb10"],["mat-raised-button","","color","primary",1,"allignButton",3,"disabled","click"],[1,"spacer"],["class","loading mt10",4,"ngIf"],["class","gridContainer",4,"ngIf"],["fxLayout","row",1,"mt10"],[1,"loading","mt10"],[1,"allign-text"],[1,"gridContainer"],["class","standard-card mt30",4,"ngFor","ngForOf"],[1,"standard-card","mt30"],[3,"Location"]],template:function(o,n){1&o&&(t.TgZ(0,"h1"),t._uU(1,"Locations"),t.qZA(),t._UZ(2,"mat-divider"),t.TgZ(3,"mat-card",0)(4,"mat-card-title"),t._uU(5,"Search"),t.qZA(),t.TgZ(6,"mat-card-content")(7,"mat-form-field",1)(8,"mat-label"),t._uU(9,"Search location"),t.qZA(),t.TgZ(10,"input",2,3),t.NdJ("keyup",function(){return n.search()}),t.qZA()()()(),t.TgZ(12,"mat-card",0),t.YNc(13,y,9,4,"mat-card-title",4),t.YNc(14,U,4,1,"mat-card-title",4),t.TgZ(15,"mat-card-content",5)(16,"div",6)(17,"button",7),t.NdJ("click",function(){return n.changePage(-20)}),t.TgZ(18,"mat-icon"),t._uU(19,"navigate_before"),t.qZA(),t._uU(20,"Previous "),t.qZA(),t._UZ(21,"span",8),t.TgZ(22,"button",7),t.NdJ("click",function(){return n.changePage(20)}),t._uU(23,"Next "),t.TgZ(24,"mat-icon"),t._uU(25,"navigate_next"),t.qZA()()(),t._UZ(26,"mat-divider"),t.YNc(27,C,5,0,"mat-card",9),t.YNc(28,x,2,1,"div",10),t.qZA(),t.TgZ(29,"mat-card-actions"),t._UZ(30,"mat-divider",0),t.TgZ(31,"div",11)(32,"button",7),t.NdJ("click",function(){return n.changePage(-20)}),t.TgZ(33,"mat-icon"),t._uU(34,"navigate_before"),t.qZA(),t._uU(35,"Previous "),t.qZA(),t._UZ(36,"span",8),t.TgZ(37,"button",7),t.NdJ("click",function(){return n.changePage(20)}),t._uU(38,"Next "),t.TgZ(39,"mat-icon"),t._uU(40," navigate_next"),t.qZA()()()()()),2&o&&(t.xp6(13),t.Q6J("ngIf",n.locations.length>0),t.xp6(1),t.Q6J("ngIf",!(n.locations.length>0)),t.xp6(3),t.Q6J("disabled",!(null!=n.locationsInfo&&n.locationsInfo.prev&&n.locations.length>0)),t.xp6(5),t.Q6J("disabled",!(null!=n.locationsInfo&&n.locationsInfo.next&&n.locations.length>0)),t.xp6(5),t.Q6J("ngIf",n.loadingLocations),t.xp6(1),t.Q6J("ngIf",!n.loadingLocations),t.xp6(4),t.Q6J("disabled",!(null!=n.locationsInfo&&n.locationsInfo.prev&&n.locations.length>0)),t.xp6(5),t.Q6J("disabled",!(null!=n.locationsInfo&&n.locationsInfo.next&&n.locations.length>0)))},dependencies:[c.sg,c.O5,p.Hw,f.d,l.a8,l.dn,l.n5,l.hq,g.KE,g.hX,h.Nt,Z.lW,L.xw,_.$],encapsulation:2}),i})();var N=e(3900),b=e(2592);function J(i,s){1&i&&(t.TgZ(0,"mat-card",5)(1,"div",6),t._uU(2," Loading, please wait... "),t.TgZ(3,"mat-icon"),t._uU(4,"watch_later"),t.qZA()()())}function w(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"span")(1,"b",7),t.NdJ("click",function(){const r=t.CHM(o).$implicit,O=t.oxw();return t.KtG(O.goToCharacter(r))}),t._uU(2),t.qZA(),t._uU(3,". "),t.qZA()}if(2&i){const o=s.index,n=t.oxw();t.xp6(2),t.Oqu(n.ResidentsNames[o])}}const D=[{path:"",component:I},{path:":id",component:(()=>{class i{constructor(o,n,a,r){this.ar=o,this.ls=n,this.router=a,this.cs=r,this.ResidentsNames=[],this.loadingLocations=!0}ngOnInit(){this.ar.params.pipe((0,N.w)(({id:o})=>this.ls.getLocationsByID(o))).subscribe(o=>{this.location=o,o.residents.forEach((n,a)=>{this.cs.getCharacterName(n).subscribe(r=>{this.ResidentsNames[a]=r})}),this.loadingLocations=!1})}goToCharacter(o){const n=o.slice(42);n&&this.router.navigateByUrl(`/characters/${n}`)}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(u.gz),t.Y36(m._),t.Y36(u.F0),t.Y36(b.R))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-view-location"]],decls:17,vars:5,consts:[["class","loading mt10",4,"ngIf"],[1,"gridContainer"],[1,"container30"],[1,""],[4,"ngFor","ngForOf"],[1,"loading","mt10"],[1,"allign-text"],[1,"pointer",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"h1"),t._uU(1,"Location"),t.qZA(),t._UZ(2,"mat-divider"),t.YNc(3,J,5,0,"mat-card",0),t.TgZ(4,"div",1)(5,"mat-card",2)(6,"mat-card-title"),t._uU(7),t.qZA(),t.TgZ(8,"mat-card-subtitle"),t._uU(9),t.qZA(),t.TgZ(10,"mat-card-content",3)(11,"h2"),t._uU(12,"Information: "),t.qZA(),t._uU(13),t._UZ(14,"br"),t._uU(15," Residents: "),t.YNc(16,w,4,1,"span",4),t.qZA()()()),2&o&&(t.xp6(3),t.Q6J("ngIf",n.loadingLocations),t.xp6(4),t.Oqu(null==n.location?null:n.location.name),t.xp6(2),t.Oqu(null==n.location?null:n.location.type),t.xp6(4),t.hij(" Dimension: ",null==n.location?null:n.location.dimension," "),t.xp6(3),t.Q6J("ngForOf",null==n.location?null:n.location.residents))},dependencies:[c.sg,c.O5,p.Hw,f.d,l.a8,l.dn,l.n5,l.$j],encapsulation:2}),i})()},{path:"**",redirectTo:""}];let q=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[u.Bz.forChild(D),u.Bz]}),i})();var M=e(9344),Q=e(5823),Y=e(5711);let F=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[c.ez,q,M.q,Q.o9,Y.RickAndMortyModule]}),i})()}}]);